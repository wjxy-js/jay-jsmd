<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        //结合正则和execAll的思想  实现 queryParams    
        // var reg = /([^?&=]+)=([^?&=]+)/g;
        var reg = /[a-z]+=\d+/;
        var str = 'https://baicu.com?abc=123&zf=666&px=888&_=t';
        RegExp.prototype.execAll = function (str) {
            // this 是正则  str 是目标字符串；
            let ary = [];
            let _this = this; // 把this对应的值 给了一个私有变量； 一位私有变量的值 我们是可以直接修改的
            if (_this.global == false) {
                // 正则没有全局修饰符 g;
                // _this = eval(_this+'g')
                _this = new RegExp(_this, 'g');
            }
            res = _this.exec(str);
            while (res) {
                ary.push(res[0]);
                res = _this.exec(str)
            }
            return ary;
        }
        // console.log(reg.execAll(str));  
        var reg1 = reg.execAll(str);
        // console.log(reg1);
        var reg2 = /[a-z]{2,3}|[0-9]{1,3}/g
        // console.log(reg2.execAll(reg1));
        var reg3 = reg2.execAll(reg1);
        // console.log(reg3);
        // console.log(reg3[0]);
        // console.log(reg3[1]);
        // console.log(reg3[2]);
        
       
        function queryParams(reg3) {
            let obj = {};
            reg3.forEach(item => {
                console.log(item);
                
                obj[item] = item;
                
            })
            return obj;
        }
        let ok=queryParams(reg3)
        console.log(ok);


    </script>
</body>

</html>